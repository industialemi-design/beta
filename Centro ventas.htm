<!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ALEMI - Sistema de Seguimiento de Ventas</title>

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.sheetjs.com/xlsx-latest/xlsx.full.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>

    body {

      font-family: 'Poppins', sans-serif;

      background-color: #f9fafb;

    }

    .logo {

      font-weight: 700;

      letter-spacing: 1px;

    }

    .nav-link {

      position: relative;

      transition: all 0.3s;

    }

    .nav-link::after {

      content: '';

      position: absolute;

      width: 0;

      height: 2px;

      bottom: -2px;

      left: 0;

      background-color: #f97316;

      transition: width 0.3s;

    }

    .nav-link:hover::after, .nav-link.active::after {

      width: 100%;

    }

    .section {

      display: none;

      animation: fadeIn 0.5s;

    }

    .section.active {

      display: block;

    }

    @keyframes fadeIn {

      from { opacity: 0; }

      to { opacity: 1; }

    }

    .card {

      transition: transform 0.3s, box-shadow 0.3s;

    }

    .card:hover {

      transform: translateY(-5px);

      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);

    }

    .btn-primary {

      background-color: #f97316;

      transition: all 0.3s;

    }

    .btn-primary:hover {

      background-color: #ea580c;

      transform: translateY(-2px);

    }

    .btn-secondary {

      background-color: #334155;

      transition: all 0.3s;

    }

    .btn-secondary:hover {

      background-color: #1e293b;

    }

    .btn-danger {

      background-color: #ef4444;

      transition: all 0.3s;

    }

    .btn-danger:hover {

      background-color: #dc2626;

    }

    .checkbox-wrapper input[type="checkbox"] {

      accent-color: #f97316;

    }

    .spinner {

      animation: spin 1s linear infinite;

    }

    @keyframes spin {

      to { transform: rotate(360deg); }

    }

    .toast {

      position: fixed;

      top: 20px;

      right: 20px;

      padding: 12px 24px;

      background-color: #22c55e;

      color: white;

      border-radius: 4px;

      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);

      z-index: 50;

      opacity: 0;

      transition: opacity 0.3s;

    }

    .toast.show {

      opacity: 1;

    }

    .toast.error {

      background-color: #ef4444;

    }

  </style>

</head>

<body class="min-h-screen">

  <!-- Navbar -->

  <nav class="bg-white shadow-md fixed top-0 left-0 w-full z-10">

    <div class="container mx-auto px-4 py-3 flex justify-between items-center">

      <div class="flex items-center space-x-2">

        <span class="logo text-2xl text-orange-500">ALEMI</span>

      </div>

      <div class="hidden md:flex space-x-6">

        <a href="javascript:void(0)" class="nav-link nav-item active" data-section="ventas">Ventas</a>

        <a href="javascript:void(0)" class="nav-link nav-item" data-section="productos">Productos</a>

        <a href="javascript:void(0)" class="nav-link nav-item" data-section="clientes">Clientes</a>

        <a href="javascript:void(0)" class="nav-link nav-item" data-section="resumen">Resumen & Análisis</a>

        <a href="javascript:void(0)" class="nav-link nav-item" data-section="historial">Historial de Ventas</a>

        <a href="javascript:void(0)" class="nav-link nav-item" data-section="configuracion">Configuración</a>

      </div>

      <div class="md:hidden">

        <button id="mobile-menu-button" class="text-gray-700">

          <i class="fas fa-bars text-xl"></i>

        </button>

      </div>

    </div>

    <div id="mobile-menu" class="hidden md:hidden bg-white w-full pb-4 shadow-md">

      <div class="container mx-auto px-4 flex flex-col space-y-3">

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="ventas">Ventas</a>

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="productos">Productos</a>

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="clientes">Clientes</a>

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="resumen">Resumen & Análisis</a>

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="historial">Historial de Ventas</a>

        <a href="javascript:void(0)" class="nav-item block py-2 hover:text-orange-500" data-section="configuracion">Configuración</a>

      </div>

    </div>

  </nav>



  <!-- Main Content -->

  <main class="container mx-auto px-4 pt-24 pb-12">

    <!-- Ventas Section -->

    <section id="ventas-section" class="section active">

      <h1 class="text-3xl font-bold mb-6 text-gray-800">Registro de Ventas</h1>

      

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">

        <h2 class="text-xl font-semibold mb-4 text-gray-700">Nueva Venta</h2>

        

        <form id="nueva-venta-form" class="space-y-4">

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <div>

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-box mr-1"></i>Producto</label>

              <select id="producto-select" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500">

                <option value="">Seleccionar producto...</option>

              </select>

              <button type="button" id="nuevo-producto-venta-btn" class="mt-1 text-sm text-orange-500 hover:underline">

                <i class="fas fa-plus mr-1"></i> Nuevo producto

              </button>

            </div>

            

            <div>

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-ruler mr-1"></i>Tamaño</label>

              <select id="tamano-select" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" disabled>

                <option value="">Seleccionar tamaño...</option>

              </select>

            </div>

            

            <div>

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-ice-cream mr-1"></i>Sabor (opcional)</label>

              <select id="sabor-select" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" disabled>

                <option value="">Seleccionar sabor...</option>

              </select>

            </div>

            

            <div>

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-hashtag mr-1"></i>Cantidad</label>

              <input type="number" id="cantidad-input" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" min="1" value="1">

            </div>

            

            <div>

              <div class="flex items-center mb-1">

                <label class="block text-sm font-medium text-gray-700"><i class="fas fa-dollar-sign mr-1"></i>Precio</label>

                <div class="ml-2">

                  <input type="checkbox" id="precio-especial-check" class="form-checkbox">

                  <label for="precio-especial-check" class="text-sm text-gray-600 ml-1">Usar precio especial</label>

                </div>

              </div>

              <input type="number" id="precio-input" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" disabled step="0.01">

            </div>

            

            <div>

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-user mr-1"></i>Cliente (opcional)</label>

              <div class="relative">

                <input type="text" id="cliente-input" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Buscar cliente...">

                <input type="hidden" id="cliente-id">

                <div id="clientes-dropdown" class="absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-40 overflow-y-auto hidden">

                </div>

              </div>

              <button type="button" id="nuevo-cliente-btn" class="mt-1 text-sm text-orange-500 hover:underline">

                <i class="fas fa-plus mr-1"></i> Nuevo cliente

              </button>

            </div>

            

            <div class="md:col-span-2">

              <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fas fa-note-sticky mr-1"></i>Notas adicionales</label>

              <textarea id="notas-venta" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" rows="2"></textarea>

            </div>

          </div>

          

          <div class="flex justify-end">

            <button type="submit" id="agregar-item-btn" class="btn-primary text-white font-medium py-2 px-6 rounded-md">

              <i class="fas fa-plus mr-1"></i> Agregar a venta

            </button>

          </div>

        </form>

      </div>

      

      <div class="bg-white rounded-lg shadow-md p-6">

        <h2 class="text-xl font-semibold mb-4 text-gray-700">Items en esta venta</h2>

        

        <div class="overflow-x-auto">

          <table class="w-full min-w-full divide-y divide-gray-200">

            <thead class="bg-gray-50">

              <tr>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Producto</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tamaño</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sabor</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cantidad</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Precio</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Subtotal</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>

              </tr>

            </thead>

            <tbody id="items-venta-tbody" class="bg-white divide-y divide-gray-200">

              <tr>

                <td class="px-4 py-4 text-sm text-gray-500 text-center" colspan="7">No hay items en la venta actual</td>

              </tr>

            </tbody>

            <tfoot>

              <tr>

                <td colspan="5" class="px-4 py-4 text-right font-medium">Total:</td>

                <td id="total-venta" class="px-4 py-4 font-bold">Bs 0.00</td>

                <td></td>

              </tr>

            </tfoot>

          </table>

        </div>

        

        <div class="mt-6 flex flex-col md:flex-row justify-between items-center gap-4">

          <button id="reiniciar-venta-btn" class="btn-secondary text-white font-medium py-2 px-6 rounded-md">

            <i class="fas fa-undo mr-1"></i> Reiniciar venta

          </button>

          

          <div class="flex items-center gap-3">

            <div class="flex items-center">

              <input type="checkbox" id="pagado-check" class="checkbox-wrapper input[type='checkbox']">

              <label for="pagado-check" class="ml-2 text-sm text-gray-700">Pagado</label>

            </div>

            <button id="guardar-venta-btn" class="btn-primary text-white font-medium py-2 px-6 rounded-md">

              <i class="fas fa-save mr-1"></i> Guardar Venta

            </button>

          </div>

        </div>

      </div>

    </section>

    

    <!-- Productos Section -->

    <section id="productos-section" class="section">

      <h1 class="text-3xl font-bold mb-6 text-gray-800">Gestión de Productos</h1>

      

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">

        <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">

          <h2 class="text-xl font-semibold text-gray-700">Lista de Productos</h2>

          <div class="flex gap-4">

            <button id="nuevo-producto-btn" class="btn-primary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-plus mr-1"></i> Nuevo Producto

            </button>

            <button id="importar-productos-btn" class="btn-secondary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-file-import mr-1"></i> Importar

            </button>

            <button id="exportar-productos-btn" class="btn-secondary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-file-export mr-1"></i> Exportar

            </button>

          </div>

        </div>

        

        <div class="mb-4">

          <input type="text" id="buscar-producto" placeholder="Buscar producto..." class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500">

        </div>

        

        <div class="overflow-x-auto">

          <table class="w-full min-w-full divide-y divide-gray-200">

            <thead class="bg-gray-50">

              <tr>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tamaños, Precios y Stock</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sabores</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>

              </tr>

            </thead>

            <tbody id="productos-tbody" class="bg-white divide-y divide-gray-200">

              <tr>

                <td class="px-4 py-4 text-sm text-gray-500 text-center" colspan="4">No hay productos registrados</td>

              </tr>

            </tbody>

          </table>

        </div>

      </div>

    </section>

    

    <!-- Clientes Section -->

    <section id="clientes-section" class="section">

      <h1 class="text-3xl font-bold mb-6 text-gray-800">Gestión de Clientes</h1>

      

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">

        <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">

          <h2 class="text-xl font-semibold text-gray-700">Lista de Clientes</h2>

          <div class="flex gap-4">

            <button id="nuevo-cliente-form-btn" class="btn-primary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-plus mr-1"></i> Nuevo Cliente

            </button>

            <button id="importar-clientes-btn" class="btn-secondary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-file-import mr-1"></i> Importar

            </button>

            <button id="exportar-clientes-btn" class="btn-secondary text-white font-medium py-2 px-4 rounded-md">

              <i class="fas fa-file-export mr-1"></i> Exportar

            </button>

          </div>

        </div>

        

        <div class="mb-4">

          <input type="text" id="buscar-cliente" placeholder="Buscar cliente..." class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500">

        </div>

        

        <div class="overflow-x-auto">

          <table class="w-full min-w-full divide-y divide-gray-200">

            <thead class="bg-gray-50">

              <tr>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Teléfono</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ubicación</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Notas</th>

                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>

              </tr>

            </thead>

            <tbody id="clientes-tbody" class="bg-white divide-y divide-gray-200">

              <tr>

                <td class="px-4 py-4 text-sm text-gray-500 text-center" colspan="5">No hay clientes registrados</td>

              </tr>

            </tbody>

          </table>

        </div>

      </div>

    </section>

    

    <!-- Resumen Section -->

    <section id="resumen-section" class="section">

      <h1 class="text-3xl font-bold mb-6 text-gray-800">Resumen y Análisis</h1>

      

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">

        <div class="bg-white rounded-lg shadow-md p-6">

          <div class="flex items-center justify-between">

            <h2 class="text-lg font-semibold text-gray-700">Ventas de hoy</h2>

            <span class="text-orange-500">

              <i class="fas fa-chart-line text-xl"></i>

            </span>

          </div>

          <p class="text-3xl font-bold text-gray-800 mt-2" id="ventas-hoy-total">Bs 0.00</p>

          <p class="text-sm text-gray-500 mt-1" id="ventas-hoy-cantidad">0 ventas</p>

        </div>

        

        <div class="bg-white rounded-lg shadow-md p-6">

          <div class="flex items-center justify-between">

            <h2 class="text-lg font-semibold text-gray-700">Ventas del mes</h2>

            <span class="text-orange-500">

              <i class="fas fa-calendar-alt text-xl"></i>

            </span>

          </div>

          <p class="text-3xl font-bold text-gray-800 mt-2" id="ventas-mes-total">Bs 0.00</p>

          <p class="text-sm text-gray-500 mt-1" id="ventas-mes-cantidad">0 ventas</p>

        </div>

        

        <div class="bg-white rounded-lg shadow-md p-6">

          <div class="flex items-center justify-between">

            <h2 class="text-lg font-semibold text-gray-700">Clientes totales</h2>

            <span class="text-orange-500">

              <i class="fas fa-users text-xl"></i>

            </span>

          </div>

          <p class="text-3xl font-bold text-gray-800 mt-2" id="clientes-total">0</p>

          <p class="text-sm text-gray-500 mt-1">clientes registrados</p>

        </div>

      </div>

      

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">

        <h2 class="text-xl font-semibold mb-4 text-gray-700">Exportar datos de ventas</h2>

        

        <div class="mb-4">

          <label class="block text-sm font-medium text-gray-700 mb-1">Rango de fechas</label>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <div>

              <label class="block text-xs text-gray-500 mb-1">Desde</label>

              <input type="date" id="fecha-desde" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500">

            </div>

            <div>

              <label class="block text-xs text-gray-500 mb-1">Hasta</label>

              <input type="date" id="fecha-hasta" class="w-full border border-gray-300 rounded-md px-3 py-
